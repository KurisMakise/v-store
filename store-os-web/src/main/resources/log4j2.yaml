# \u5171\u67098\u4E2A\u7EA7\u522B\uFF0C\u6309\u7167\u4ECE\u4F4E\u5230\u9AD8\u4E3A\uFF1AALL < TRACE < DEBUG < INFO < WARN < ERROR < FATAL < OFF\u3002
Configuration:
  status: warn
  monitorInterval: 30
  Properties: # \u5B9A\u4E49\u5168\u5C40\u53D8\u91CF
    Property: # \u7F3A\u7701\u914D\u7F6E\uFF08\u7528\u4E8E\u5F00\u53D1\u73AF\u5883\uFF09\u3002\u5176\u4ED6\u73AF\u5883\u9700\u8981\u5728VM\u53C2\u6570\u4E2D\u6307\u5B9A\uFF0C\u5982\u4E0B\uFF1A
      #\u6D4B\u8BD5\uFF1A-Dlog.level.console=warn -Dlog.level.xjj=trace
      #\u751F\u4EA7\uFF1A-Dlog.level.console=warn -Dlog.level.xjj=info
      - name: log.level.console
        value: debug
      - name: log.path
        value: log
      - name: project.name
        value: opendoc
      - name: log.pattern
        value: "%d{yyyy-MM-dd HH:mm:ss.SSS} -%5p ${PID:-} [%15.15t] %-30.30C{1.} : %m%n"
  Appenders:
    Console:  #\u8F93\u51FA\u5230\u63A7\u5236\u53F0
      name: CONSOLE
      target: SYSTEM_OUT
      PatternLayout:
        pattern: ${log.pattern}
    #   \u542F\u52A8\u65E5\u5FD7
    RollingFile:
      - name: ROLLING_FILE
        fileName: ${log.path}/${project.name}.log
        filePattern: "${log.path}/historyRunLog/$${date:yyyy-MM}/${project.name}-%d{yyyy-MM-dd}-%i.log.gz"
        PatternLayout:
          pattern: ${log.pattern}
        Filters:
          #        \u4E00\u5B9A\u8981\u5148\u53BB\u9664\u4E0D\u63A5\u53D7\u7684\u65E5\u5FD7\u7EA7\u522B\uFF0C\u7136\u540E\u83B7\u53D6\u9700\u8981\u63A5\u53D7\u7684\u65E5\u5FD7\u7EA7\u522B
          ThresholdFilter:
            - level: error
              onMatch: DENY
              onMismatch: NEUTRAL
            - level: info
              onMatch: ACCEPT
              onMismatch: DENY
        Policies:
          TimeBasedTriggeringPolicy:  # \u6309\u5929\u5206\u7C7B
            modulate: true
            interval: 1
        DefaultRolloverStrategy:     # \u6587\u4EF6\u6700\u591A100\u4E2A
          max: 100
      #   \u5E73\u53F0\u65E5\u5FD7
      - name: PLATFORM_ROLLING_FILE
        ignoreExceptions: false
        fileName: ${log.path}/platform/${project.name}_platform.log
        filePattern: "${log.path}/platform/$${date:yyyy-MM}/${project.name}-%d{yyyy-MM-dd}-%i.log.gz"
        PatternLayout:
          pattern: ${log.pattern}
        Policies:
          TimeBasedTriggeringPolicy:  # \u6309\u5929\u5206\u7C7B
            modulate: true
            interval: 1
        DefaultRolloverStrategy:     # \u6587\u4EF6\u6700\u591A100\u4E2A
          max: 100
      #   \u4E1A\u52A1\u65E5\u5FD7
      - name: BUSSINESS_ROLLING_FILE
        ignoreExceptions: false
        fileName: ${log.path}/bussiness/${project.name}_bussiness.log
        filePattern: "${log.path}/bussiness/$${date:yyyy-MM}/${project.name}-%d{yyyy-MM-dd}-%i.log.gz"
        PatternLayout:
          pattern: ${log.pattern}
        Policies:
          TimeBasedTriggeringPolicy:  # \u6309\u5929\u5206\u7C7B
            modulate: true
            interval: 1
        DefaultRolloverStrategy:     # \u6587\u4EF6\u6700\u591A100\u4E2A
          max: 100
      #   \u9519\u8BEF\u65E5\u5FD7
      - name: EXCEPTION_ROLLING_FILE
        ignoreExceptions: false
        fileName: ${log.path}/exception/${project.name}_exception.log
        filePattern: "${log.path}/exception/$${date:yyyy-MM}/${project.name}-%d{yyyy-MM-dd}-%i.log.gz"
        ThresholdFilter:
          level: error
          onMatch: ACCEPT
          onMismatch: DENY
        PatternLayout:
          pattern: ${log.pattern}
        Policies:
          TimeBasedTriggeringPolicy:  # \u6309\u5929\u5206\u7C7B
            modulate: true
            interval: 1
        DefaultRolloverStrategy:     # \u6587\u4EF6\u6700\u591A100\u4E2A
          max: 100
      #   DB \u65E5\u5FD7
      - name: DB_ROLLING_FILE
        ignoreExceptions: false
        fileName: ${log.path}/db/${project.name}_db.log
        filePattern: "${log.path}/db/$${date:yyyy-MM}/${project.name}-%d{yyyy-MM-dd}-%i.log.gz"
        PatternLayout:
          pattern: ${log.pattern}
        Policies:
          TimeBasedTriggeringPolicy:  # \u6309\u5929\u5206\u7C7B
            modulate: true
            interval: 1
        DefaultRolloverStrategy:     # \u6587\u4EF6\u6700\u591A100\u4E2A
          max: 100
  Loggers:
    Root:
      level: info
      AppenderRef:
        - ref: CONSOLE
        - ref: ROLLING_FILE
        - ref: EXCEPTION_ROLLING_FILE
    Logger:
      - name: platform
        level: info
        additivity: false
        AppenderRef:
          - ref: CONSOLE
          - ref: PLATFORM_ROLLING_FILE
      - name: bussiness
        level: info
        additivity: false
        AppenderRef:
          - ref: BUSSINESS_ROLLING_FILE
      - name: exception
        level: debug
        additivity: true
        AppenderRef:
          - ref: EXCEPTION_ROLLING_FILE
      - name: db
        level: info
        additivity: false
        AppenderRef:
          - ref: DB_ROLLING_FILE
#    \u76D1\u542C\u5177\u4F53\u5305\u4E0B\u9762\u7684\u65E5\u5FD7
#    Logger: # \u4E3Acom.xjj\u5305\u914D\u7F6E\u7279\u6B8A\u7684Log\u7EA7\u522B\uFF0C\u65B9\u4FBF\u8C03\u8BD5
#      - name: com.xjj
#        additivity: false
#        level: ${sys:log.level.xjj}
#        AppenderRef:
#          - ref: CONSOLE
#          - ref: ROLLING_FILE